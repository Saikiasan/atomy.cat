import{sessionStore,sessionGet}from"./dataFetch.min.js";export const clicks=()=>{function t(t,n){s.css("--timeOut",""),a.is(t)||(a.length&&a.removeClass("active"),t.addClass("active"),a=t,e(a,o))}function e(t,e){const n=t[0].getBoundingClientRect();t.addClass("active");const o=Math.floor(n.left-s[0].offsetLeft-(e.outerWidth()-n.width)/2)+"px";e.css("transform",`translate3d(${o}, 0, 0)`)}const s=$(".menu"),n=s.find(".menu__item"),o=s.find(".menu__border");let a=s.find(".active");n.on("click",function(){t($(this),n.index(this))}),e(a,o),$(window).on("resize",function(){e(a,o),s.css("--timeOut","none")})};export const urlCrawler=()=>{const t=urlParam("page")||"home";if(t){$(`.nav-link[href="?page=${t}"]`).addClass("active");const e="pages/"+t+".html";$.ajax({url:e,dataType:"html",success:function(t){var e=$(".main");e.fadeOut("fast",function(){$("root#root").html(t),e.fadeIn("fast")})},error:function(t,e){console.error("Error loading content:",e,t)}})}else console.error("Missing url in url")};export const productMenu=()=>{let t="visually-hidden";updateViewportSettings("yes"),$(".product-menu").toggleClass(t).addClass("animated slideInUp fast").on("click",function(){goBack()})};export const goBack=()=>{urlCrawler(),updateViewportSettings("no")};export const updateViewportSettings=t=>{const e=$('meta[name="viewport"]');e&&e.attr("content","width=device-width, initial-scale=1.0, user-scalable="+t)};export const urlParam=t=>{const e=new URLSearchParams(window.location.search);return e.get(t)};export const theme=t=>{let e="isDark",s=sessionGet(e),n=$("html"),o="dark-knight";s&&n.addClass(o),$(t).on("click",function(){n.hasClass(o)?(sessionStore(e,""),n.removeClass(o)):(sessionStore(e,!0),n.addClass(o))})};