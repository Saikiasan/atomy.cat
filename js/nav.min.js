import{sessionStore,sessionGet}from"./dataFetch.min.js";export const clicks=()=>{function t(t,s){n.css("--timeOut",""),a.is(t)||(a.length&&a.removeClass("active"),t.addClass("active"),a=t,e(a,o))}function e(t,e){const s=t[0].getBoundingClientRect();t.addClass("active");const o=Math.floor(s.left-n[0].offsetLeft-(e.outerWidth()-s.width)/2)+"px";e.css("transform",`translate3d(${o}, 0, 0)`)}const n=$(".menu"),s=n.find(".menu__item"),o=n.find(".menu__border");let a=n.find(".active");s.on("click",function(){t($(this),s.index(this))}),e(a,o),$(window).on("resize",function(){e(a,o),n.css("--timeOut","none")})};export const urlCrawler=()=>{const t=urlParam("page")||"home";if(t){$(`.nav-link[href="?page=${t}"]`).addClass("active");const e="pages/"+t+".html";$.ajax({url:e,dataType:"html",success:function(t){var e=$(".main");e.fadeOut("fast",function(){$("root#root").html(t),e.fadeIn("fast")})},error:function(t,e){console.error("Error loading content:",e,t)}})}else console.error("Missing url in url")};export const productMenu=()=>{let t="visually-hidden";updateViewportSettings("yes"),$(".product-menu").toggleClass(t).addClass("animated slideInUp fast").on("click",function(){goBack()})};export const updateViewportSettings=t=>{const e=$('meta[name="viewport"]');e&&e.attr("content","width=device-width, initial-scale=1.0, user-scalable="+t)};export const urlParam=t=>{const e=new URLSearchParams(window.location.search);return e.get(t)};export const theme=t=>{let e="isDark",n=sessionGet(e),s=$("html"),o="dark-knight";n&&s.addClass(o),$(t).on("click",function(){s.hasClass(o)?(sessionStore(e,""),s.removeClass(o)):(sessionStore(e,!0),s.addClass(o))})};export const currentPage=()=>{var t=window.location.href;const e=t.split("/").filter(Boolean).pop();return e};export const activeLink=()=>{const t=currentPage(),e=$(`.nav-link[href='/${t}/']`);e.addClass("active"),console.log(t)};