<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
        <title>Atomy Meeting Templates</title>
        <link rel="stylesheet" href="bootstrap.min.css">
        <link rel="stylesheet" href="flatpickr.min.css">
        <style>
            html,
            body {
                background-color: #e5ddd5;
                /* background-color: #f7f7f7; */
                font-family: Arial, sans-serif;
            }

            .bg-c {
                background-color: #e5ddd5;
            }

            .whatsapp-container {
                background-color: #e5ddd5;
                /* padding: 20px; */
                /* border-radius: 10px; */
                /* box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); */
                /* max-width: 600px; */
                /* margin: 20px auto; */
            }

            .whatsapp-header {
                background-color: #075e54;
                color: white;
                padding: 10px;
                text-align: center;
                border-radius: 10px;
            }

            /* .whatsapp-message {
                background-color: #ffffff;
                padding: 15px;
                border-radius: 10px;
                margin-top: 20px;
                position: relative;
            } */

            .whatsapp-message #content-output {
                white-space: pre-line;
                line-height: 1.5;
                user-select: text;
            }

            .btn-copy {
                /* position: absolute; */
                right: 10px;
                top: 10px;
            }

            .language-switch {
                text-align: right;
                margin-bottom: 10px;
            }

            .bi {
                display: inline-block;
                width: 1.4rem;
                height: 1.4rem;
                vertical-align: -0.125em;
                fill: currentColor;
            }

            .bd-mode-toggle {
                z-index: 1500;
            }

            .bd-mode-toggle .dropdown-menu .active .bi {
                display: block !important;
            }
        </style>
    </head>

    <body>
        <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
            <symbol id="check2" viewBox="0 0 16 16">
                <path
                    d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z" />
            </symbol>
            <symbol id="circle-half" viewBox="0 0 16 16">
                <path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z" />
            </symbol>
            <symbol id="moon-stars-fill" viewBox="0 0 16 16">
                <path
                    d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z" />
                <path
                    d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z" />
            </symbol>
            <symbol id="sun-fill" viewBox="0 0 16 16">
                <path
                    d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z" />
            </symbol>
            <symbol id="clipboard-check" viewBox="0 0 16 16">
                <path fill-rule="evenodd"
                    d="M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0" />
                <path
                    d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1z" />
                <path
                    d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0z" />
            </symbol>
            <symbol id="whatsapp" viewBox="0 0 16 16">
                <path
                    d="M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.9 7.9 0 0 0 13.6 2.326zM7.994 14.521a6.6 6.6 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654s.71 1.916.81 2.049c.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232" />
            </symbol>
            <symbol id="arrow-right-circle" viewBox="0 0 16 16">
                <path fill-rule="evenodd"
                    d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0M4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5z" />
            </symbol>
            <symbol id="arrow-right-circle-fill" viewBox="0 0 16 16">
                <path
                    d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0M4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5z" />
            </symbol>
            <symbol id="calendar-date" viewBox="0 0 16 16">
                <path
                    d="M6.445 11.688V6.354h-.633A13 13 0 0 0 4.5 7.16v.695c.375-.257.969-.62 1.258-.777h.012v4.61zm1.188-1.305c.047.64.594 1.406 1.703 1.406 1.258 0 2-1.066 2-2.871 0-1.934-.781-2.668-1.953-2.668-.926 0-1.797.672-1.797 1.809 0 1.16.824 1.77 1.676 1.77.746 0 1.23-.376 1.383-.79h.027c-.004 1.316-.461 2.164-1.305 2.164-.664 0-1.008-.45-1.05-.82zm2.953-2.317c0 .696-.559 1.18-1.184 1.18-.601 0-1.144-.383-1.144-1.2 0-.823.582-1.21 1.168-1.21.633 0 1.16.398 1.16 1.23" />
                <path
                    d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z" />
            </symbol>
            <symbol id="clock" viewBox="0 0 16 16">
                <path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71z" />
                <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0" />
            </symbol>
            <symbol id="google" viewBox="0 0 16 16">
                <path
                    d="M15.545 6.558a9.4 9.4 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.7 7.7 0 0 1 5.352 2.082l-2.284 2.284A4.35 4.35 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.8 4.8 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.7 3.7 0 0 0 1.599-2.431H8v-3.08z" />
            </symbol>
            <symbol id="person-fill" viewBox="0 0 16 16">
                <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6" />
            </symbol>
            <symbol id="house-fill" viewBox="0 0 16 16">
                <path
                    d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L8 2.207l6.646 6.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293z" />
                <path d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293z" />
            </symbol>
        </svg>
        <div class="mt-4 d-flex justify-content-around align-items-center sticky-top bg-c py-3">
            <button class="btn btn-outline-dark" disabled>Version: 1.3.1</button>
            <button id="switch-lang" class="btn btn-secondary">Switch to Assamese</button>
        </div>
        <!-- <div class="language-switch position-absolute top-0 end-0 me-4 mt-4">
        </div> -->

        <!-- <div class="clearfix" style="height: 70px"></div> -->

        <div class="container p-2 mt-2">
            <!-- Language Selection Card -->
            <div id="language-selection" class="d-none"></div>

            <!-- Existing Content -->
            <div class="whatsapp-message card shadow">
                <div class="whatsapp-header card-header">
                    <h3 id="form-title">Meeting Templates</h3>
                </div>
                <div class="card-body">
                    <form id="template-form">
                        <div class="template-selection mb-4">
                            <h6 class="mb-2 d-flex justify-content-center">Select Template</h6>
                            <div class="d-flex justify-content-center gap-2">
                                <input type="checkbox" class="btn-check" id="day-btn" autocomplete="off" checked>
                                <label class="btn btn-outline-warning d-inline-flex align-items-center" for="day-btn">
                                    <svg class="bi me-2">
                                        <use href="#sun-fill"></use>
                                    </svg>
                                    <span>
                                        Day
                                    </span>
                                </label>
                                <input type="checkbox" class="btn-check" id="night-btn" autocomplete="off">
                                <label class="btn btn-outline-primary d-inline-flex align-items-center" for="night-btn">
                                    <svg class="bi me-2">
                                        <use href="#moon-stars-fill"></use>
                                    </svg>
                                    <span>
                                        Night
                                    </span>
                                </label>
                            </div>
                        </div>

                        <div class="mb-4 p-4 d-flex justify-content-around align-items-center gap-4">
                            <div class="">
                                <label for="meetingDate" id="label-date" class="form-label">
                                    <svg class="bi me-2">
                                        <use href="#calendar-date"></use>
                                    </svg>
                                    <span>
                                        Date
                                    </span>
                                </label>
                                <input type="text" class="form-control" id="meetingDate" placeholder="Select Date">
                            </div>
                            <div class="col-5">
                                <label for="meetingTime" id="label-time" class="form-label">
                                    <svg class="bi me-2">
                                        <use href="#clock"></use>
                                    </svg>
                                    <span>
                                        Time
                                    </span>
                                </label>
                                <input type="text" class="form-control" id="meetingTime" placeholder="Select Time">
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="meetingLink" id="label-link" class="form-label">
                                <svg class="bi me-2">
                                    <use href="#google"></use>
                                </svg>
                                <span>
                                    Meeting Link
                                </span>
                            </label>
                            <input type="text" class="form-control" id="meetingLink"
                                placeholder="Enter Gogle meet link">
                        </div>
                        <hr>
                        <div id="dayForm">
                            <div class="mb-5 px-3">
                                <div class="mb-4">
                                    <label for="hostName" id="label-host-name" class="form-label">
                                        <svg class="bi me-2">
                                            <use href="#person-fill"></use>
                                        </svg>
                                        <span>
                                            Host Name
                                        </span>
                                    </label>
                                    <input type="text" class="form-control" id="hostName">
                                </div>

                                <div class="">
                                    <label for="hostAddr" id="label-host-addr" class="form-label">
                                        <svg class="bi me-2">
                                            <use href="#house-fill"></use>
                                        </svg>
                                        <span>
                                            Host Address
                                        </span>
                                    </label>
                                    <input type="text" class="form-control" id="hostAddr">
                                </div>
                            </div>

                            <hr>
                            <div class="px-3">
                                <div class="mb-4">
                                    <label for="trainerName" id="label-trainer-name" class="form-label">
                                        <svg class="bi me-2">
                                            <use href="#person-fill"></use>
                                        </svg>
                                        <span>
                                            Trainer Name
                                        </span>
                                    </label>
                                    <input type="text" class="form-control" id="trainerName">
                                </div>

                                <div class="mb-4">
                                    <label for="trainerAddr" id="label-trainer-addr" class="form-label">
                                        <svg class="bi me-2">
                                            <use href="#house-fill"></use>
                                        </svg>
                                        <span>
                                            Trainer Address
                                        </span>
                                    </label>
                                    <input type="text" class="form-control" id="trainerAddr">
                                </div>
                            </div>
                        </div>


                        <div id="night-form">
                            <!-- leader -->
                            <div id="person-1" class="mb-4 p-4">
                                <div class="person-name mb-2">
                                    <label class="form-label">
                                        <svg class="bi me-2">
                                            <use href="#person-fill"></use>
                                        </svg><span>Leader Name</span>
                                    </label>
                                    <input type="text" class="form-control">
                                </div>
                                <div class="person-addr mb-2">
                                    <label class="form-label">
                                        <svg class="bi me-2">
                                            <use href="#house-fill"></use>
                                        </svg>
                                        <span>Address</span>
                                    </label>
                                    <input type="text" class="form-control">
                                </div>
                            </div>

                            <div id="person-2" class="mb-4 p-4">
                                <div class="person-name mb-2">
                                    <label class="form-label">
                                        <svg class="bi me-2">
                                            <use href="#person-fill"></use>
                                        </svg><span>PDF Reading</span>
                                    </label>
                                    <input type="text" class="form-control">
                                </div>
                                <div class="person-addr mb-2">
                                    <label class="form-label">
                                        <svg class="bi me-2">
                                            <use href="#house-fill"></use>
                                        </svg>
                                        <span>Address</span>
                                    </label>
                                    <input type="text" class="form-control">
                                </div>
                            </div>

                            <div id="person-3" class="mb-4 p-4">
                                <div class="person-name mb-2">
                                    <label class="form-label">
                                        <svg class="bi me-2">
                                            <use href="#person-fill"></use>
                                        </svg><span>Product Duscussion</span>
                                    </label>
                                    <input type="text" class="form-control">
                                </div>
                                <div class="person-addr mb-2">
                                    <label class="form-label">
                                        <svg class="bi me-2">
                                            <use href="#house-fill"></use>
                                        </svg>
                                        <span>Address</span>
                                    </label>
                                    <input type="text" class="form-control">
                                </div>
                            </div>

                            <div id="person-4" class="mb-4 p-4">
                                <div class="person-name mb-2">
                                    <label class="form-label">
                                        <svg class="bi me-2">
                                            <use href="#person-fill"></use>
                                        </svg><span>Questions & Answers</span>
                                    </label>
                                    <input type="text" class="form-control">
                                </div>
                                <div class="person-addr mb-2">
                                    <label class="form-label">
                                        <svg class="bi me-2">
                                            <use href="#house-fill"></use>
                                        </svg>
                                        <span>Address</span>
                                    </label>
                                    <input type="text" class="form-control">
                                </div>
                            </div>
                        </div>

                        <div class="d-flex mt-3 justify-content-center">
                            <button type="button" id="generate-content" class="btn btn-primary">Submit</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- <div class="clearfix" style="height:60px"></div> -->

            <div class="whatsapp-message card shadow my-5 pb-2" id="generated-content" style="display: none;">
                <div class="card-body">
                    <p id="content-output" class="p-2 mb-4 border rounded-3"></p>
                    <div class="d-flex justify-content-around fixed-bottom pb-4 pt-3 bg-c">
                        <button class="btn btn-primary btn-copy" id="copy-content"
                            data-clipboard-target="#content-output">
                            Copy
                            <svg class="bi ms-2">
                                <use href="#clipboard-check"></use>
                            </svg>
                        </button>
                        <a id="whatsapp-link" class="btn btn-success" href="" target="_blank">
                            WhatsApp
                            <svg class="bi ms-2">
                                <use href="#whatsapp"></use>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>

            <!-- <div class="clearfix" style="height:80px"></div> -->

        </div>

        <script src="jquery.min.js"></script>
        <script src="bootstrap.bundle.min.js"></script>
        <script src="clipboard.min.js"></script>
        <script src="flatpickr.min.js"></script>
        <script src="content.js"></script>
        <!-- <script src="main.js"></script> -->
        <script>
            var clipboard = new ClipboardJS('#copy-content');

            clipboard.on('success', function (e) {
                console.info('Action:', e.action);
                console.info('Text:', e.text);
                console.info('Trigger:', e.trigger);

                e.clearSelection();
            });

            clipboard.on('error', function (e) {
                console.error('Action:', e.action);
                console.error('Trigger:', e.trigger);
            });
        </script>

        <script>
            $(document).ready(function () {
                let currentLanguage = "english";
                let currentTemplate = "day";

                // Date picker (dd-mm-yyyy)
                flatpickr("#meetingDate", {
                    dateFormat: "d/m/Y", // Day-Month-Year
                    altInput: true, // Show formatted input
                    altFormat: "d/m/Y", // Alternative display format
                    disableMobile: true,
                });

                // Time picker (hour:minute AM/PM)
                flatpickr("#meetingTime", {
                    enableTime: true, // Enable time selection
                    noCalendar: true, // Disable calendar
                    dateFormat: "h:i K", // Hour:Minute AM/PM format
                    time_24hr: false, // 12-hour time format
                    altInput: true, // Show formatted input
                    altFormat: "h:i K", // Alternative display format
                    disableMobile: true,
                });

                // Function to update form fields based on current language
                function updateForm () {
                    const form = contentData.form[currentLanguage];
                    $("#label-host-name span").text(form.hostNameLabel);
                    $("#label-host-addr span").text(form.hostAddrLabel);
                    $("#label-trainer-name span").text(form.trainerNameLabel);
                    $("#label-trainer-addr span").text(form.trainerAddrLabel);
                    $("#form-title").text(form.formTitle);
                    $("#generate-content").text(form.generateButton);
                    $("#switch-lang").text(form.switchTo);

                    // $("#hostName").attr("placeholder", form.hostNamePlaceholder);
                    // $("#hostAddr").attr("placeholder", form.hostAddrPlaceholder);
                    // $("#trainerName").attr("placeholder", form.trainerNamePlaceholder);
                    // $("#trainerAddr").attr("placeholder", form.trainerAddrPlaceholder);

                    // $("#meetingLink").attr("placeholder", form.linkTxt);
                    $("#label-date span").text(form.dateTxt);
                    $("#label-time span").text(form.timeTxt);
                    $("#label-link span").text(form.linkTxt);
                    const nightLabels = [
                        form.nightLeader,
                        form.nightPdf,
                        form.nightProducts,
                        form.nightQnA,
                    ];

                    nightLabels.forEach((labelText, index) => {
                        $(`#person-${index + 1} .person-name label span`).text(labelText);
                        $(`#person-${index + 1} .person-addr label span`).text(form.address);
                    });
                }

                // Function to update content based on current language and template
                function updateContent () {
                    const content = contentData.content[currentLanguage][currentTemplate];
                    $("#content-output").text(content);
                    $("#whatsapp-link").attr(
                        "href",
                        `https://api.whatsapp.com/send?text=${encodeURIComponent(content)}`
                    );
                }


                // Handle language switch
                $("#switch-lang").on("click", function () {
                    currentLanguage = currentLanguage === "english" ? "assamese" : "english";
                    updateForm();
                    updateContent();
                    $("html, body").animate(
                        {
                            scrollTop: $("#generate-content").offset().top - 350,
                        },
                        300
                    );
                });

                // Handle template selection
                $(".btn-check").on("change", function () {
                    if ($(this).is("#day-btn")) {
                        $("#night-btn").prop("checked", false);
                        toggleInputFields(false);
                        handleModeChange(false);
                        currentTemplate = "day";
                    } else if ($(this).is("#night-btn")) {
                        $("#day-btn").prop("checked", false);
                        toggleInputFields(true);
                        handleModeChange(true);
                        currentTemplate = "night";
                    }
                    updateContent();
                });

                function handleModeChange (isNightMode) {
                    if (isNightMode) {
                        $("#night-form").show();
                        $("#step-form").hide();
                        // showStep(currentStep); // Show the appropriate step for night mode
                    } else {
                        $("#night-form").hide();
                        $("#step-form").show();
                    }
                }

                function toggleInputFields (isNightMode) {
                    if (isNightMode) {
                        $("#dayForm").hide();
                    } else {
                        $("#dayForm").show();
                    }
                }

                // Handle form submission
                $("#generate-content").on("click", function () {
                    const date = $("#meetingDate").val();
                    const time = $("#meetingTime").val();
                    const meetLink = $("#meetingLink").val();
                    // console.log(date);

                    if (currentTemplate == "night") {
                        // Collect data for multiple persons
                        const personData = [];
                        for (let i = 1; i <= 4; i++) {
                            const name = $(`#person-${i} .person-name input`).val();
                            const address = $(`#person-${i} .person-addr input`).val();
                            if (name && address) {
                                personData.push({ name, address });
                            } else {
                                // If any person data is missing, do not proceed
                                $("#generated-content").hide();
                                return;
                            }
                        }

                        if (date && time && meetLink) {
                            // const time12 = convertTo12HourFormat(time24);
                            let contentTemplate =
                                contentData.content[currentLanguage][currentTemplate];

                            // Replace placeholders for each person
                            personData.forEach((person, index) => {
                                contentTemplate = contentTemplate
                                    .replace(`{person${index + 1}_name}`, `*${person.name}*`)
                                    .replace(`{person${index + 1}_address}`, `_${person.address}_`);
                            });

                            contentTemplate = contentTemplate
                                .replace(/{time}/g, time)
                                .replace(/{date}/g, date)
                                .replace(/{meeting link}/g, meetLink);

                            $("#content-output").text(contentTemplate);
                            $("#whatsapp-link").attr(
                                "href",
                                `https://api.whatsapp.com/send?text=${encodeURIComponent(
                                    contentTemplate
                                )}`
                            );
                            $("#generated-content").show();
                            scrollToBottom();
                        } else {
                            $("#generated-content").hide();
                        }
                    } else {
                        // Day mode: handle single person data
                        const hostName = $("#hostName").val();
                        const hostAddress = $("#hostAddr").val();
                        const trainerName = $("#trainerName").val();
                        const trainerAddress = $("#trainerAddr").val();

                        if (
                            hostName &&
                            hostAddress &&
                            trainerName &&
                            trainerAddress &&
                            date &&
                            time &&
                            meetLink
                        ) {
                            // const time12 = convertTo12HourFormat(time24);
                            const contentTemplate =
                                contentData.content[currentLanguage][currentTemplate];
                            const content = contentTemplate
                                .replace(/{host_name}/g, `*${hostName}*`)
                                .replace(/{host_address}/g, `_${hostAddress}_`)
                                .replace(/{trainer_name}/g, `*${trainerName}*`)
                                .replace(/{trainer_address}/g, `_${trainerAddress}_`)
                                .replace(/{time}/g, time)
                                .replace(/{date}/g, date)
                                .replace(/{meeting link}/g, meetLink);

                            $("#content-output").text(content);
                            $("#whatsapp-link").attr(
                                "href",
                                `https://api.whatsapp.com/send?text=${encodeURIComponent(content)}`
                            );
                            $("#generated-content").show();
                            scrollToBottom();
                        } else {
                            $("#generated-content").hide();
                        }
                    }
                });

                // Copy content to clipboard
                // $("#copy-content").on("click", function () {
                //   const content = $("#content-output").text();
                //   navigator.clipboard.writeText(content).then(() => {
                //     alert("Content copied to clipboard!");
                //   });
                // });

                /**
                 * Convert 24-hour time format to 12-hour time format.
                 * @param {string} time24 - The time in 24-hour format (e.g., "14:30").
                 * @returns {string} The time in 12-hour format with AM/PM (e.g., "2:30 PM").
                 */
                function convertTo12HourFormat (time24) {
                    const [hours, minutes] = time24.split(":").map(Number);
                    const suffix = hours >= 12 ? "PM" : "AM";
                    const hours12 = hours % 12 || 12;
                    const minutesFormatted = minutes.toString().padStart(2, "0");
                    return `${hours12}:${minutesFormatted} ${suffix}`;
                }

                function convertDate (dateString) {
                    const date = new Date(dateString);
                    const day = String(date.getDate()).padStart(2, "0");
                    const month = String(date.getMonth() + 1).padStart(2, "0");
                    const year = date.getFullYear();

                    return `${day}/${month}/${year}`;
                }

                function scrollToBottom () {
                    $("html, body").animate({ scrollTop: $(document).height() }, "slow");
                }

                // Initialize the form and content on page load
                updateForm();
                updateContent();
                // $("#generated-content").show();
                // toggleInputFields(true);
                handleModeChange(false);
            });

        </script>

    </body>

</html>